{% extends "portal_base.html" %}
{% block content %}

<style>
.create-wrapper {
  padding: 40px 20px;
  display: flex;
  justify-content: center;
}

.card {
  background: #ffffff;
  width: 100%;
  max-width: 500px;
  padding: 35px 30px;
  border-radius: 20px;
  box-shadow: 0 20px 45px rgba(0,0,0,0.10);
}

h2 {
  margin-top: 0;
  margin-bottom: 30px;
  text-align: center;
  color: #0d47a1;
  font-size: 26px;
  font-weight: 700;
}

label {
  display: block;
  font-size: 14px;
  font-weight: 600;
  color: #555;
  margin-bottom: 6px;
}

input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid #dcdfe3;
  background: #fafafa;
  font-size: 14px;
  margin-bottom: 18px;
  transition: border 0.2s, box-shadow 0.2s;
}

input:focus {
  outline: none;
  border-color: #0d47a1;
  background: #ffffff;
  box-shadow: 0 0 0 2px rgba(13,71,161,0.12);
}

.time-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

button {
  width: 100%;
  padding: 14px;
  background: linear-gradient(135deg,#0d47a1,#1976d2);
  color: #ffffff;
  border: none;
  border-radius: 14px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

button:hover {
  background: #08306b;
  box-shadow: 0 12px 24px rgba(13,71,161,0.25);
}

button:active {
  transform: scale(0.98);
}

.hint {
  margin-top: 12px;
  font-size: 13px;
  color: #666;
  text-align: center;
}

.back {
  display: block;
  text-align: center;
  margin-top: 25px;
  font-weight: 600;
  text-decoration: none;
  color: #0d47a1;
  font-size: 14px;
}

.back:hover {
  text-decoration: underline;
}

/* Print */
@media print {
  body {
    background: white;
  }

  .card {
    box-shadow: none;
  }

  .back {
    display: none;
  }
}
</style>

<div class="create-wrapper">

<div class="card">

  <h2>üìÖ Create Committee Meeting</h2>

  <form method="POST" onsubmit="return validateTime()">

    <label>üìù Meeting Title</label>
    <input type="text" name="title" required>

    <label>üìÜ Meeting Date</label>
    <input type="date" name="meeting_date" required>

    <div class="time-row">
      <div>
        <label>‚è∞ Start Time</label>
        <input type="time" name="start_time" id="start_time" required>
      </div>

      <div>
        <label>‚è± End Time</label>
        <input type="time" name="end_time" id="end_time" required>
      </div>
    </div>

    <button type="submit">
      ‚úÖ Create & Generate QR
    </button>

    <div class="hint">
      üìå A QR code will be generated automatically for attendance
    </div>

  </form>

  <a href="{{ url_for('portal.committee_dashboard', cid=cid) }}"
     class="back">
    ‚Üê Back to Committee Dashboard
  </a>

</div>
</div>

<script>
function validateTime() {
  const start = document.getElementById("start_time").value;
  const end = document.getElementById("end_time").value;

  if (start && end && end <= start) {
    alert("End time must be greater than start time.");
    return false;
  }

  return true;
}
</script>

{% endblock %}